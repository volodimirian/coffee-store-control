# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env file to version control!

# Application Settings (REQUIRED)
APP_ENV=dev
APP_TITLE=Coffee Store Control API
APP_VERSION=0.1.0

# =============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =============================================================================

# PostgreSQL Database URL
# Format: postgresql+asyncpg://username:password@host:port/database
# Example for local development:
DATABASE_URL=postgresql+asyncpg://app:app@localhost:5432/app
# Example for production:
# DATABASE_URL=postgresql+asyncpg://user:secure_password@db.example.com:5432/coffee_store_prod

# =============================================================================
# JWT AUTHENTICATION (REQUIRED)
# =============================================================================

# JWT Secret Key
# IMPORTANT: Use a strong, random secret in production!
# Generate with: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT Algorithm (OPTIONAL - defaults to HS256)
# Recommended: HS256 for symmetric, RS256 for asymmetric
JWT_ALG=HS256

# Access Token Expiration (OPTIONAL - defaults to 60 minutes)
# Time in minutes before access tokens expire
# Recommended: 15-60 minutes for production
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Refresh Token Expiration (OPTIONAL - defaults to 30 days)
# Time in days before refresh tokens expire (for "Remember Me" functionality)
# Recommended: 7-90 days for production
REFRESH_TOKEN_EXPIRE_DAYS=30

# =============================================================================
# CORS CONFIGURATION (REQUIRED)
# =============================================================================

# CORS Origins - Allowed formats:
# 1. JSON array (recommended): ["http://localhost:3000","http://localhost:5173"]
# 2. Comma-separated: http://localhost:3000,http://localhost:5173
# 
# IMPORTANT: Do NOT add extra quotes around the JSON array!
# CORRECT:   CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]
# INCORRECT: CORS_ORIGINS="["http://localhost:3000","http://localhost:5173"]"
# INCORRECT: CORS_ORIGINS='["http://localhost:3000","http://localhost:5173"]'
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# Allow credentials in CORS requests (OPTIONAL - defaults to true)
CORS_CREDENTIALS=true

# =============================================================================
# DATABASE DEBUG (OPTIONAL)
# =============================================================================

# Database Echo (logs all SQL queries)
# Set to false in production for performance (defaults to false)
DB_ECHO=true

# =============================================================================
# OFD INTEGRATION (REQUIRED FOR OFD FEATURES)
# =============================================================================

# Encryption Key for OFD API Keys
# IMPORTANT: Generate with: make generate-encryption-key
# This key is used to encrypt/decrypt OFD provider API keys in the database
# NEVER share or commit this key!
ENCRYPTION_KEY=CHANGE_ME_GENERATE_WITH_make_generate_encryption_key

# =============================================================================
# PRODUCTION RECOMMENDATIONS
# =============================================================================

# For production, consider these additional settings:
# - Use strong, unique passwords for all services
# - Enable SSL/TLS for all database connections
# - Use environment-specific secrets management (AWS Secrets Manager, etc.)
# - Set up proper logging and monitoring
# - Configure backup strategies for databases
# - Set DB_ECHO=false for performance
# - Use a reverse proxy (nginx) for static files and rate limiting